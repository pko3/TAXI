<!DOCTYPE html>
<html>
<head>
    <title>TAXI</title>
    <meta charset="utf-8"/>
    <link href="css/styles.css" rel="stylesheet">
</head>
<body onload="onLoad()">
<div class='waitingDiv'>&nbsp;</div>   

<!-- Orders -->
<script id="orders-tpl" type="text/x-handlebars-template">
<div id="taxiHeader">
    <div id="taxiText">TAXI</div>
    <div id="taxiInfo"></div>
</div>

<!--submenu--> 
<div class='submenu' id="divsubmenu" style="display:none">
    <button data-route="map" class="icon ico_map">&nbsp;</button>
    <button data-route="states" class="icon ico_stop">&nbsp;</button>
    <button id="history"  data-route="history" class="textnoicon">History</button>
</div>


<div class='footer'>
    <button id="newOrder" class="icon ico_order">&nbsp;</button>
    <button title="Submenu" id="btnSubmenu"  class="icon ico_submenu">&nbsp;</button>
    <button title="settings"  data-route="settings" class="icon ico_settings">&nbsp;</button>
    <button id="taxiAlarm" class="icon ico_alarm">&nbsp;</button>
</div>
<div class="scroll"><div class='buttonlist orders-list'></div><button id="unbreakButton" class="ico_submit">Ukončiť prestávku</button><button id="unalarmButton" class="ico_submit">Ukončiť alarm</button></div>
</script>

<script id="orders-li-tpl" type="text/x-handlebars-template">
{{#.}}
<div id="{{this.GUID}}" class="{{this.Status}}" data_GUID_Offer="{{this.GUID_Offer}}" data_StatusOffer="{{this.StatusOffer}}" data_Id="{{this.GUID}}" data_Status="{{this.Status}}">
    {{#if this.StatusCancel}}
    {{else}}
        <div class="icon down">&nbsp;</div>
    {{/if}}
    <div class="content">
        <strong>{{this.FormatedDate}}</strong> {{this.StartCity}} {{this.StartAddress}}<br/>{{this.EndCity}} {{this.EndAddress}}<br/>{{this.Persons}} / {{this.SpecialConditions}} / {{this.CustomerPhone}} / {{this.CustomerName}}
    </div>
    {{#if this.StatusCancel}}
            <div class="icon confirmCancel">&nbsp;</div>
    {{else}}
        <div class="icon up">&nbsp;</div>
    {{/if}}
 </div>
{{/.}}
</script>

<!-- OrdersHistory -->
<script id="ordersHistory-tpl" type="text/x-handlebars-template">
<div class='header'><button id="historyBack" class="icon ico_back">&nbsp;</button></div>
<div class="scroll"><div class='buttonlist ordersHistory-list'></div></div>
</script>

<script id="ordersHistory-li-tpl" type="text/x-handlebars-template">
{{#.}}
<div data_Id="{{this.GUID}}" data_Status="{{this.Status}}" class="{{this.Status}}">
    <div class="content"><strong>[{{this.iOrder}}] {{this.FormatedDate}}</strong> {{this.Status}} {{this.StartCity}} {{this.StartAddress}}<br/>{{this.EndCity}} {{this.EndAddress}}</div>
</div>
{{/.}}
</script>

<!-- OrderDetail -->
<script id="orderDetail-tpl" type="text/x-handlebars-template">
<div class='header'><button id="orderDetailBack" class="icon ico_back">&nbsp;</button><button id="orderCall" class="icon ico_phone">&nbsp;</button><button id="orderDetailSave" class="icon texticon ico_submit">&nbsp;</button></div>
<form id="orderDetailForm"></form>
<div id="orderDetailMap" style="position:absolute;width:100%;height:85%;"></div>
</script>

<script id="orderDetailForm-tpl" type="text/x-handlebars-template">
    <select id="OrderTimeToRealize" name="TimeToRealize"> 	
        <option value="">Vyberte čas</option>
        <option value="5">5 min</option>
        <option value="10">10 min</option>
        <option value="15">15 min</option>
        <option value="30">30 min</option>
        <option value="45">45 min</option>
        <option value="60">1 hod</option>
        <option value="120">2 hod</option>
        <option value="240">4 hod</option>
    </select>
    <div>
        <strong>{{this.FormatedDate}} {{this.StatusDescription}}</strong>
    </div>
    {{#if this.TimeToRealize}}
    <div>
        <strong>Čas nastavený</strong> {{this.TimeToRealize}}
    </div>
    {{/if}}
    <div>
        <strong>Odkiaľ:</strong> {{this.StartCity}} {{this.StartAddress}}
    </div>
     {{#if this.EndCity}}
    <div>
        <strong>Kam:</strong> {{this.EndCity}} {{this.EndAddress}}
    </div>
     {{/if}}
    <div>
        <strong>Kontakt:</strong> {{this.CustomerPhone}}  {{this.CustomerName}}
    </div>
     {{#if this.Persons}}
    <div>
        <strong>Počet pasažierov:</strong> {{this.Persons}}
    </div>
     {{/if}}
     {{#if this.SpecialConditions}}
    <div>
        <strong>Špeciálne požiadavky:</strong> {{this.SpecialConditions}}
    </div>
     {{/if}}
    {{#if this.ErrorMessage}}
    <div class="error">{{this.ErrorMessage}}</div>
     {{/if}}
</script>

<!-- States -->
<script id="states-tpl" type="text/x-handlebars-template">
<div class='header'><button data-route="orders" class="icon ico_back">&nbsp;</button><button id="statesSave" class="icon texticon ico_submit">Prerušenie</button></div>
<div class="scrollBottom"><form id="statesForm"></form></div>
</script>

<script id="statesForm-template" type="text/x-handlebars-template">
<select id="HistoryAction" name="HistoryAction">
    <option value="Vlastná aktivita">Vlastná aktivita</option> 	
    <option value="Prestávka">Prestávka</option>
    <option value="Porucha">Porucha</option>
</select>
<select id="TimeToFree" name="TimeToFree"> 	
        <option value="5">5 min</option>
        <option value="10">10 min</option>
        <option value="15">15 min</option>
        <option value="30">30 min</option>
        <option value="45">45 min</option>
        <option value="60">1 hod</option>
        <option value="120">2 hod</option>
        <option value="240">4 hod</option>
</select>
<input  name="HistoryActionDescription" value="{{this.HistoryActionDescription}}" type="text" placeholder="Poznámka" />
<input  name="Payment" type="number" value="{{this.Payment}}" placeholder="Cena" />
{{#if this.ErrorMessage}}<div class="error">{{this.ErrorMessage}}</div>{{/if}}
</script>

<!-- Message -->
<script id="message-tpl" type="text/x-handlebars-template">
<div class='header'><button data-route="orders" class="icon ico_back">&nbsp;</button><button class="icon ico_submit">&nbsp;</button></div>
<div class='scrollBottom'><textarea></textarea></div>
</script>

<!-- Settings -->
<script id="settings-tpl" type="text/x-handlebars-template">
<div class='header'><button data-route="orders" id="settingsOrders" class="icon ico_back">&nbsp;</button><button id="settingsSave" class="icon ico_submit transparent">&nbsp;</button><button id="appExit" class="icon ico_end">&nbsp;</button></div>
<div id="settingsForm" class='scrollBottom'></div>
</script>

<script id="settingsForm-tpl" type="text/x-handlebars-template">
<form id="settingsForm-form">
    <!--<input type="text" placeholder="Vybraté vozidlo" name="spz" id="spz" value="{{this.spz}}"/>-->
    <select name="transporterId" id="transporterId">
        <option value="" style="color:#f00;">Vyberte vozidlo</option>
        {{#each this.transportes}}
         <option value="{{Id}}" {{#if selected}}selected="selected"{{/if}}>{{SPZ}}</option>
        {{/each}}
    </select>
    <input type="text" placeholder="Meno" name="name" id="name" value="{{this.name}}"/>
    <input type="password" placeholder="Heslo" name="password" id="password" value="{{this.password}}"/>
    <input type="url" placeholder="Adresa služby" name="url" id="url" value="{{this.url}}"/>   
    {{#if this.ErrorMessage}}<div class="error">{{this.ErrorMessage}}</div>{{/if}}
</form>
</script>
<!--<label for="enableHighAccuracy">Používať GPS</label><input type="checkbox" name="enableHighAccuracy" id="enableHighAccuracy" value="true" {{#if this.enableHighAccuracy}} checked="checked" {{/if}}/>-->


<script src="phonegap.js"></script>
<script src="lib/json2.js"></script>    
<script src="lib/jquery-1.8.2.min.js"></script>
<!--<script src="lib/jquery.signalR-1.0.1.min.js"></script>-->
<script src="lib/handlebars.js"></script>
<script src="lib/iscroll.js"></script>
<!--<script src="lib/signalr-hubs.js"></script>-->
<script src="Scripts/PositionService.js"></script>
<script src="Scripts/Service.js"></script>
<script src="Scripts/OrdersView.js"></script>
<script src="Scripts/OrdersHistoryView.js"></script>
<script src="Scripts/OrderDetail.js"></script>
<script src="Scripts/MessageView.js"></script>
<script src="Scripts/StatesView.js"></script>
<script src="Scripts/MapView.js"></script>
<script src="Scripts/DetailMap.js"></script>
<script src="Scripts/SettingsView.js"></script>
<!--<script src="Scripts/Notification.js"></script>-->
<script src="Scripts/main.js"></script>
<script src="http://maps.google.com/maps/api/js?sensor=false&callback=Map.apiOK"></script>
    
</body>
</html>